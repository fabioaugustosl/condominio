<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:p="http://primefaces.org/ui"
   template="/WEB-INF/templates/default.xhtml">
   
   <ui:define name="content">
 	
 	<h:form id="form" styleClass="formPad10">
	   	<h1>Configurações</h1>
	   	<p:outputLabel styleClass="textoInformativo" 
	   		value="Tela para configurações gerais do sistema." />
	 	<br />
	    
	    <p:fieldset legend="Geral" style="margin-bottom:20px">
	   	 	<p:outputLabel value="Qual a quantidade máxima de dias futuros que uma área comum pode ser agendada?" styleClass="labelPadrao" /> <br />
		 	<p:inputMask  id="qtdDiaAgendaAreaComum" value="#{parametroController.parametroMaximoDias.valor}" 
		 			style="width:200px;"
		 			mask="9?999" maxlength="4" placeHolder=" " styleClass="inputPadrao"/>
		 	
		 	<br />
		   	<br />
		    
		 	<p:selectBooleanCheckbox value="#{parametroController.parametroEnviarEmailAtaBool}" />
	   	 	<p:outputLabel value="Deseja avisar automaticamento os moradores quando uma nova ata for anexada a uma assembleia?" styleClass="labelPadrao" style="margin-left:4px;"/> <br />
		 	
		 	
		 	<br /><br />
		 	<p:commandButton id="salvarConfiguracao1" value="Salvar" 
		 		styleClass="botao botao-grande"
		   		actionListener="#{parametroController.salvar}" >
		   	</p:commandButton>
		</p:fieldset>	   	
	   	

		<p:fieldset legend="Acesso CFTV" style="margin-bottom:20px">
	        
	        <p:outputLabel value="Qual a URL de acesso as cameras?" styleClass="labelPadrao" /> <br />
		 	<p:inputText  id="urlCameras" value="#{parametroController.cftv.url}" 
		 			placeHolder="exemplo.dyndns.org:8000" styleClass="inputPadrao"/>
		 	
		   	<br />
		   	
		   	<p:outputLabel value="Existe instruções de acesso?" styleClass="labelPadrao" /> <br />
		 	<p:inputText  id="urlCamerasInstrucoes" value="#{parametroController.cftv.instrucoes}" styleClass="inputPadrao" maxlength="500"/>
		 	
		   	<br />
		   	
		   	<p:outputLabel value="Qual o login de acesso?" styleClass="labelPadrao" /> <br />
		 	<p:inputText  id="urlCamerasLogin" value="#{parametroController.cftv.login}" styleClass="inputPadrao"/>
		 	
		   	<br />
		   	
		   	<p:outputLabel value="Qual a senha de acesso?" styleClass="labelPadrao" /> <br />
		 	<p:inputText  id="urlCamerasSenha" value="#{parametroController.cftv.senha}" styleClass="inputPadrao"/>
		 	
		 	<br />
		 	<p:outputLabel value="Deseja anexar um tutorial de acesso?" styleClass="labelPadrao" /> <br />
		 	<p:outputPanel id="painelArquivo" style="position:relative; diplay:block; margin-top:10px; " layout="block" >
			       
				      <p:fileUpload mode="advanced" update="painelArquivo" label="Selecionar arquivo"
				        fileUploadListener="#{parametroController.uploadArquivo}"
				        rendered="#{empty parametroController.tutorialCftv}"
				        styleClass="dataArquivosMenorEsquerda" 
				        allowTypes="/(\.|\/)(JPG|jpg|jpeg|JPEG|png|PNG|PDF|pdf)$/" 
				        multiple="false" sizeLimit="100000000" fileLimitMessage="O arquivo é muito grande. "
				        invalidFileMessage="Tipo do arquivo inválido. É aceito apenas arquivos no formato."
						invalidSizeMessage="Tamanho do arquivo inválido"
				        auto="true" dragDropSupport="false" />
		        
					<br />
					<p:outputPanel rendered="#{parametroController.tutorialCftv != null}" 
								styleClass="dataArquivosMenorEsquerda containerArquivoSimples">
						<p:outputLabel value="Arquivo anexado: "/> <p:outputLabel value="#{parametroController.tutorialCftv.nome}"></p:outputLabel>
						
						<p:commandLink actionListener="#{parametroController.removerTutorial()}" 
								style="float:right; "  
			         			id="removerArq" immediate="true" update="painelArquivo"   >
			         		<p:graphicImage id="imgDeletarNot" url="/img/icones/deletar.png" title="Clique para deletar esse arquivo." />
			         	</p:commandLink>
			         
					</p:outputPanel>
				</p:outputPanel>
				
		   	<br /><br />
	        
	        <p:commandButton id="salvarConfiguracaoCFTV" value="Salvar" 
		 		styleClass="botao botao-grande"
		   		actionListener="#{parametroController.salvarCFTV}" >
		   	</p:commandButton>
	   	
	    </p:fieldset>
	
    
	</h:form>
   </ui:define>
</ui:composition>
